<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
    <h:head>
        <link rel="stylesheet" type="text/css" href="styles/global.css"/>
        <link rel="stylesheet" type="text/css" href="styles/cadastros.css"/>

        <title>Trabalho 1</title>
    </h:head>
    <h:body onload="#{produtoBean.loadFieldsByIdProduto(param.idProduto)}">
        <h:panelGroup layout="block" styleClass="container">
            
            <ui:include src="WEB-INF/navbar.xhtml" />
            
            <h:panelGroup layout="block" styleClass="content">
                
                <h:form styleClass="form-cadastro">
                    <c:if test="${not empty param.idProduto}">
                        <h:panelGroup layout="block" styleClass="descricao-container">
                            <h:outputLabel>ID</h:outputLabel>
                            <h:inputText value="#{produtoBean.idProduto}" disabled="true"/>
                        </h:panelGroup>
                    </c:if>
                    
                    <h:panelGroup layout="block" styleClass="descricao-container">
                        <h:outputLabel>Descrição</h:outputLabel>
                        <h:inputText value="#{produtoBean.descricao}" />
                    </h:panelGroup>
                    
                    <h:panelGroup layout="block" styleClass="categoria-container">
                        <h:outputLabel>Categoria</h:outputLabel>
                        <h:selectOneMenu value="#{produtoBean.idCategoria}">
                            <f:selectItems value="#{categoriaBean.listaCategorias}" var="cat" itemValue="#{cat.idCategoria}" itemLabel="#{cat.descricao}" />
                        </h:selectOneMenu>
                    </h:panelGroup>
                    
                    <h:panelGroup layout="block" styleClass="preco-container">
                        <h:outputLabel>Preço</h:outputLabel>
                        <h:inputText value="#{produtoBean.preco}" />
                    </h:panelGroup>
                    
                    <h:panelGroup layout="block" styleClass="qtestoque-container">
                        <h:outputLabel>Quantidade em estoque</h:outputLabel>
                        <h:inputText value="#{produtoBean.estoque}" />
                    </h:panelGroup>
                    
                    <h:panelGroup layout="block" styleClass="observacao-container">
                        <h:outputLabel>Observacao</h:outputLabel>
                        <h:inputTextarea value="#{produtoBean.observacao}" />
                    </h:panelGroup>
                    
                    <h:panelGroup layout="block" styleClass="form-buttons">
                        <h:commandButton class="salvar-btn" value = "Salvar" action = "#{produtoBean.salvar()}" />
                        <h:commandButton class="cancelar-btn" value = "Cancelar" action = "index?faces-redirect=true" />
                    </h:panelGroup>
                    
                </h:form>
                
            </h:panelGroup>
            
        </h:panelGroup>
    </h:body>
</html>
